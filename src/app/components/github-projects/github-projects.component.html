<section id="github-projects">
  <a href="https://github.com/Thegajout" class="title-link">
    <h2>Github hosted projects</h2>
  </a>
  <hr />
  <div *ngIf="!view" class="center">
    <a class="square-button" routerLink="/projects">Back to projects...</a>
  </div>
  <app-loading-spinner *ngIf="loading"></app-loading-spinner>
  <h3 *ngIf="error" class="error">{{ error.message }}</h3>
  <div *ngIf="repos" class="project-list">
    <a
      *ngFor="let project of repos.slice(0, view)"
      [href]="project.html_url"
      class="project"
    >
      <h3>{{ project.name }}</h3>
      <p>{{ project.description }}</p>
      <p>Last updated: {{ project.pushed_at | date }}</p>
      <p *ngIf="project.commits !== undefined">
        Total commits in the last year: {{ project.commits }}
      </p>
    </a>
  </div>
  <div *ngIf="view" class="center">
    <a
      *ngIf="view == repos.length"
      class="square-button"
      routerLink="/projects/github"
      >View all</a
    >
    <button class="square-button" (click)="handleClick()">
      {{
        view < repos.length ? "View more projects!" : "View less projects..."
      }}
    </button>
  </div>
</section>
